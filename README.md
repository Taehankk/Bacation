# Bacation
**SSAFY 2학기 공통 프로젝트 - Bacation - B307**

## 공통 PJT 회고 - [김태한]

### 1. 컴포넌트화 - Atomic Design

- **적용 상황**: Atomic Design 일부 적용
  - 예시: Day 컴포넌트에서 DateFormat atom까지 분리
- **확인된 사항**:
  - Atomic Design 적용 시 컴포넌트 파일의 코드 길이 감소 확인
  - 모든 페이지에 Atomic Design을 적용하지는 못함
- **개선 필요성**:
  - 향후 프로젝트 시 Atomic Design을 통한 컴포넌트 효율화 도전 및 개선 필요
  - Atoms, molecules, organisms, templates, pages에 대한 명확한 기준과 구분이 필요함

### 2. 렌더링 관련

- **발생 이슈**:
  - 개발 초반, 복잡한 페이지(데이터 분석 페이지)에서 최대 2번의 렌더링이 일어나는 것을 확인
  - 프로젝트 마지막 단계에서는 불필요한 렌더링을 확인하지 못함
- **개선 방향**:
  - Axios 요청 후 반환된 데이터를 객체로 바로 저장하고, 변경된 데이터가 화면에 즉시 반영되는 방법에 대한 연구 필요
  - 직접 객체에 값을 넣는 방식 사용하였으나, 각 값이 화면에 즉시 적용되지 않아, 각각의 값을 다시 받는 상태를 선언함 => 객체/각각의 값을 따로 받을 때의 차이점 명확히 연구 필요
  - 새로고침 없이 Axios로 값을 받아와 즉시 화면에 반영하는 방식 고민 필요
  - Chrome 확장 프로그램 적극 활용하기

### 3. OpenVidu

- **구현 난이도(체감)**: 상
- **발생 이슈**:
  1. 공식 사이트에서 제공하는 로컬 구동 방식과 배포 후 구동 방식의 차이가 있음
     - 로컬: 임의로 입력해도 화상 채팅방 생성 가능
     - 배포 서버: 사용 가능한 session ID를 우선 발급받고, 이를 사용해 채팅방 생성 및 접속
     - 다른 팀원들과의 원활한 커뮤니케이션을 통해 빠르게 문제 인식 및 개발 시 적용
  2. 웹캠을 사용하지 않아도 되는 기기(관찰용 기기)에서는 카메라와 스피커가 작동하지 않도록 설정
     - 조건문을 추가하여 특정 기기에서는 화면만 렌더링되도록 설정
  3. 인프라 설정 문제로 인한 개발 지연
     - 로컬에서는 구동되었으나, 배포 서버에서 OpenVidu가 동작하지 않음
     - 인프라 관련 기본 지식을 가지고 있어야 하며, 코드 오류뿐만 아니라 인프라 문제에 대해서도 고려할 수 있어야 함

### 4. Teachable Machine

- **구현 난이도(체감)**: 중상
- **발생 이슈**:
  1. Teachable Machine 사이트에서 제공하는 JavaScript 코드를 TypeScript로 변환 필요
     - ChatGPT 이용하여 변환 -> 시간 단축, 다만 코드를 이해한 후 사용
  2. Teachable Machine 모델 분류
     - 이미지 학습 모델과 모션 학습 모델로 나뉨, 분석 코드가 약간씩 다름
     - 최종 산출물에서는 이미지 학습 모델만 사용, 조건문 없이 컴포넌트 분리로 구현 진행
     - 여러 모델을 평가할 수 있는 백엔드 연계 방식 고려 필요
  3. 자주 변경되는 값 반영 문제
     - ModePage에서 관리되는 값을 즉시 분석해 Axios로 백엔드에 전달하려 했으나, 빠른 루프 실행으로 인해 값이 정상적으로 전달되지 않음
     - 최종적으로 useRef를 통해 값 수신을 처리 -> 설정한 간격으로 값 정상 수신 및 Axios를 통해 백엔드에 전달 성공
     - 자주 변경되는 값을 useRef로 설정해야 하는 이유를 연구하고, useRef에 대해 더 깊이 있는 학습 필요

### 5. PWA 관련
- **적용 이유**:
  1. UX 를 향상시키기 위해
     - 부모가 아이를 관찰하고 있는 웹캠의 영상을 자유로운 동선 가운데서 볼 수 있도록, 핸드폰에서 사용할 수 있는 어플이 필요하다고 판단
     - 웹캠의 경우, 노트북 등에서 동작하기 떄문에, 웹 환경도 필요했기 때문에 PWA 도입
- **발생 이슈**:
  1. Service Worker build 이슈
     - Service Worker 관련 파일(sw.js)이 build 시 dist 파일에 생성되지 않아 정상적으로 동작하지 않음
     - Vite 빌드환경에서는 config 파일에 설정을 하나 추가해야 build 시 정상적으로 동작하는 것을 확인, 이후 오류 수정
  2. PWA 설정 추가 후, 프로젝트 무게가 무거워짐
     - openvidu, teachable machine 도입 영향도 있지만, PWA 설정을 추가하면서 프로젝트 무게가 무거워짐, build 시간도 오래 걸림
     - 웹/앱 환경이 필요할 경우 PWA 방식을 최우선으로 고려하기보다, 다른 방식을 고려해보는 것이 도움이 될 것으로 보임 => 웹/앱 환경 구성에 대한 추가 학습 필요

### 6. 기타 기능 구현
- **차트 기능 구현**
  1. 데이터 분석 페이지에서 시간표 형태의 차트를 구현
     - 시간표 형태의 차트를 쉽게 구하기 어려워, 자유도가 높은 Victory 차트 라이브러리 활용
     - AXIS 축에 BAR chart 를 삽입하는 방식으로 구현
       => 수유 시간 데이터 중첩 가능하도록 설계됨
- **무한스크롤 기능 구현**
  1. 날짜 선택 기능 구현 시, 날짜 데이터를 지속적으로 생성하여, 가로축 무한스크롤 구현
     - IntersectionObserver API 를 활용하여 구현
     - 스크롤의 끝 부분을 지속적으로 감시하여, 해당 구역이 보일 때, 다음 날짜의 데이터를 배열에 추가 및 출력하는 방식으로 구현
     - 추후 API 가 아닌 직접 구현 방식으로 도전해보는 것도 좋을 듯
